# Get_next_line

본과정 3번째

# 핵심 포인트

- 정적변수 **(static variable),** 전역변수 **(global variable),** 지역변수 **(local variable, 자동변수)**
- File Descriptor
- Linked list

# 정리

- 정적변수 **(static variable)**
    
    정적으로 할당되는 변수이며, 프로그램 실행 전반에 걸쳐 변수의 수명이 유지된다.
    
    **프로그램이 시작될 때 생성 및 초기화(초기값 없으면 0으로 초기화)** 되고 프로그램이 끝날 때 사라지며, **함수의 매개변수로 사용할 수 없다.**
    
    정적 지역변수(static local variable)는 **중괄호 내부**에서만 사용할 수 있고, 한번 초기화 되면 이후에 **함수 호출 시** 값의 **초기화를 무시**한다.
    
    Data 영역 (초기화), BSS 영역 (비초기화)에 저장된다.
    
- 전역변수 **(global variable)**
    
    **전역 변수**는 어떤 [변수 영역](https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_%EC%98%81%EC%97%AD)내에서도 접근할 수 있는 변수를 의미하는 전산학용어이다.
    
    **중괄호 외부에 선언**되는 변수이다.
    
    **프로그램이 시작될 때 생성 및 초기화(초기값 없으면 0으로 초기화)** 되고 프로그램이 끝날 때 사라진다.
    
    잘못 사용하거나 남용할 경우 **관리가 어려워질 수 있다.** (유지 보수, 재사용 등)
    
    Data 영역 (초기화), BSS 영역 (비초기화)에 저장된다.
    
- 지역변수 **(local variable, 자동변수)**
    
    **지역 변수**(local variable)는 지역 [변수 영역](https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_%EC%98%81%EC%97%AD)이 주어진 [변수](https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99))이다.
    
    중괄호 내부, 함수의 매개변수(Parameter)에서 사용된다.
    
    함수 안에서만 접근 가능하며, **함수를 벗어나면 사라진다.** (= 변수의 메모리 공간이 소멸된다)
    
    지역변수는 **초기화하지 않으면 컴파일 에러**가 나거나 **쓰레기값**이 저장된다.
    
    Stack 영역에 저장된다.
    
- Linked list
    
    추상적 자료형인 리스트를 구현한 자료구조로, Linked List라는 말 그대로 어떤 데이터 덩어리(이하 노드Node)를 저장할 때 그 다음 순서의 자료가 있는 위치를 데이터에 포함시키는 방식으로 자료를 저장한다.
    
    배열과는 달리 새로운 자료, 즉 노드를 뒤에 연결하거나 중간에 노드 몇개를 껴놓는 것이 쉽다.
    
    연결리스트는 자료 번호가 없이 그저 연결 관계만 있기 때문에 특정한 노드를 불러내기 어려운 단점이 있다.
    
    탐색 또는 정렬을 자주 하면 배열을, 추가/삭제가 많으면 연결 리스트를 사용하는 것이 유리하다.
    
    **단순 연결 리스트 (Singly Linked List), 이중 연결 리스트 (Doubly Linked List), 원형 연결 리스트 (Circular linked list)등이 존재한다.**
    
    ```c
    struct NODE {
    	struct NODE *next;
    	int data;
    };
    ```
    
- File Descriptor
    
    파일 디스크립터(File Descriptor)란 리눅스 혹은 유닉스 계열의 시스템에서 프로세스(process)가 파일(file)을 다룰 때 사용하는 개념
    
    유닉스 시스템에서 모든 것을 파일이라고 한다. 일반적인 정규파일부터 디렉토리, 소켓, 파이프, 블록 디바이스, 케릭터 디바이스 등 모든 객체들을 파일로 관리한다. 유닉스 시스템에서 프로세스가 이 파일들을 접근할 때 파일 디스크립터라는 개념을 이용한다.
    
    프로세스가 실행 중에 파일을 Open하면 커널은 해당 프로세스의 파일 디스크립터 숫자 중 사용하지 않는 가장 작은 값을 할당해준다. 그 다음 프로세스가 열려있는 파일에 시스템 콜을 이용해서 접근할 때, 파일 디스크립터(FD)값을 이용해서 파일을 지칭할 수 있다.
    
    프로그램이 프로세스로 메모리에서 실행될 때, 기본적으로 할당되는 파일디스크립터는 표준입력(Standard Input), 표준 출력(Standard Output), 표준에러(Standard Error)이며 이들에게 각각 0, 1, 2라는 정수가 할당된다.
    
- 주의사항
    
    동적할당으로 생성된 변수들을 잘 컨트롤 해주어야한다. (특히, Free 상황에 대하여 모든경우를 생각하고 적용해주어야 한다.)
    
    버퍼(BUFFER_SIZE(+ 1) 의 문자열)을 만드는 과정은 동적할당으로 진행하면 timeout이 뜰수 있으니 주의 (paco의 memory test에서 모든 malloc에 대하여 검사를 해서 오래걸린다. 실제적으로 출력은 오래걸리지 않는다.)
    
# 자료

[get_next_line.ko](https://brassy-plate-60f.notion.site/get_next_line-ko-f99a0da42ca24ff2b272ffdc90f0b7b2)
